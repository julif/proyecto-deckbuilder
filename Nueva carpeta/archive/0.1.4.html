<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
<!--  seleccion de personajes -----------------------------------------------------------  -->
  <section id="seleccion_de_personajes"> 
    <h2>Seleccionar personaje:</h2> 
    <div id="char_1" class="selectable_character" > seleccionar personaje 1 </div>
    <div id="char_2" class="selectable_character" > seleccionar personaje 2 </div>
    <div id="char_3" class="selectable_character" > seleccionar personaje 3 </div>
  </section>
<!--  personaje -------------------------------------------------------------------------- -->
  <section id="personaje_seleccionado" style="display: none;">
    <h2> mazo inicial:</h2>
    <h3 id="char"></h3>
    <p id="mazo_inicial_div"></p>
    <button onclick="back_personajes()" > volver a seleccion de personajes</button>
    <button onclick="play()" > Jugar </button>
  </section>
<!--  battle stage ----------------------------------------------------------------------- -->
  <section id="battle_stage" style="display: none;">
    <h2>battle stage</h2>
    <enemy> <img src="https://opengameart.org/sites/default/files/slime_idle_0.gif" alt="slime" height="150" width="auto"> </enemy>
    <button onclick="atacar()" > atacar al slime  </button>
    <h3> mazo </h3>
    <p id="mazo_jugador_div"></p>
  </section>
</body>
<script type="text/javascript">

//seleccionar un personaje --------------------------------------------------------------------------------------
  var personajeID;

  const divs = document.querySelectorAll('.selectable_character');
  divs.forEach(el => el.addEventListener('click', event => {
    personajeID = el.id;
    select_personaje();
  }));


	function select_personaje() {

		document.getElementById("seleccion_de_personajes").style.display="none";
		document.getElementById("personaje_seleccionado").style.display="inherit";

    var char_div=  document.getElementById("char");
    switch (personajeID) { 
      case "char_1":
        char_div.innerHTML= "Personaje 1: Bunny";
        var mazo_inicial = [
          { name: 'carta 1', id: 1 },
          { name: 'carta 2', id: 2 },
          { name: 'carta 3', id: 3 },
          { name: 'carta 4', id: 4 },
          { name: 'carta 5', id: 5 },
          { name: 'carta 6', id: 6 },
          { name: 'carta 7', id: 7 },
          { name: 'carta 8', id: 8 },
          { name: 'carta 9', id: 9 },
          { name: 'carta 10', id: 10 }
        ];
      break
      case "char_2":
        char_div.innerHTML= "Personaje 2: Nero";
        var mazo_inicial = [
          { name: 'carta 11', id: 11 },
          { name: 'carta 12', id: 12 },
          { name: 'carta 13', id: 13 },
          { name: 'carta 14', id: 14 },
          { name: 'carta 15', id: 15 },
          { name: 'carta 16', id: 16 },
          { name: 'carta 17', id: 17 },
          { name: 'carta 18', id: 18 },
          { name: 'carta 19', id: 19 },
          { name: 'carta 20', id: 20 }
        ];
      break
      case "char_3":
        char_div.innerHTML= "Personaje 3: Shacta";
        var mazo_inicial = [
          { name: 'carta 21', id: 21 },
          { name: 'carta 22', id: 22 },
          { name: 'carta 23', id: 23 },
          { name: 'carta 24', id: 24 },
          { name: 'carta 25', id: 25 },
          { name: 'carta 26', id: 26 },
          { name: 'carta 27', id: 27 },
          { name: 'carta 28', id: 28 },
          { name: 'carta 29', id: 29 },
          { name: 'carta 30', id: 30 }
        ];
      break
      default:
        char_div.innerHTML= " Error ";
      }

      //............................... mazo inicial ...................................................
      // ordenar el array  ------------------
      mazo_inicial=  mazo_inicial.sort(function(a, b) {
        return (a.name > b.name) ? 1 : ((b.name > a.name) ? -1 : 0); /* ordenar por nombre */
      });
      // mostrar mazo inicial ------------------
      mazo_inicial.forEach( function(element, index) {
        document.getElementById("mazo_inicial_div").innerHTML += "id: "+ element.id +" name: "+ element.name +" </br>"; 
      });

      //............................... mazo jugador ...................................................  
       var mazo_jugador = mazo_inicial.slice();//clona el mazo_jugador pero de manera independiente.
       mazo_jugador.sort(function() {return Math.random() - 0.5});//mezclar mazo 

      // mostrar mazo de el jugador ------------------
      mazo_jugador.forEach( function(element, index) {
        document.getElementById("mazo_jugador_div").innerHTML += "id: "+ element.id +" name: "+ element.name +" </br>"; 
      });

	}


  function back_personajes() {
    document.getElementById("mazo_jugador_div").innerHTML=" ";
    document.getElementById("mazo_inicial_div").innerHTML=" ";
    document.getElementById("personaje_seleccionado").style.display="none";
    document.getElementById("seleccion_de_personajes").style.display="inherit";
  }
  function play(){
    document.getElementById("personaje_seleccionado").style.display="none";
    document.getElementById("battle_stage").style.display="inherit";
  }
  
  function atacar() {
  alert( " 10 de da√±o al slime ");
 }
</script>
</html>